---
interface Props {
  images: { src: string; alt: string }[];
}

const { images } = Astro.props;

function getRandomSpan() {
  const spans = [2, 3, 4]; // Possible row spans
  return spans[Math.floor(Math.random() * spans.length)];
}
---

<div class="masonry-grid">
  {images.map((image) => (
    <div class="masonry-item" style={{ '--row-span': getRandomSpan() }}>
      <img src={image.src} alt={image.alt} />
    </div>
  ))}
</div>

<style>
  .masonry-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); /* Adjust minmax as needed */
    grid-gap: 2rem; /* Increased gap */
    margin-top: 2rem;
    grid-auto-rows: auto;
    grid-auto-flow: dense;
  }

  .masonry-item {
    break-inside: avoid;
    grid-row-end: span var(--row-span);
  }

  .masonry-item img {
    width: 100%;
    display: block;
    border-radius: 8px;
    height: 100%;
    object-fit: cover;
  }
</style>
